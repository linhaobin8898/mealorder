<!--  scroller-box full_screen -->
<div class="risk_personal_higt_bp_view" ng-controller="controller.risk.personalHighBp">
	<!-- 个人信息 start -->
	<div ng-if="step == '0'" scroller-box class="container-fluid setup-content full_screen">
		<div class="row setup-content-header text-center">
			<img wx-img wx-img-src="member.headimgurl" class="img img-circle" style="margin-top:20px; width: 80px;height: 80px;"/>
		</div>
		<div scroller-box class="row setup-content-body "><!-- form-horizontal -->
			<div class="form-group date_box">
		    	<span class="col-xs-2 text_2 border_bottom span2">姓名</span>
		    	<span class="col-xs-4 right text_3 border_bottom member_name" ng-click="input('姓名',1)">{{member.name}}</span>
		    	<span class="col-xs-2 text_2 border_bottom">性别</span>
		    	<span class="col-xs-4 right text_3 border_bottom member_name" ng-click="radio('性别')">{{member.sex==2?'女':'男'}}</span>
		    </div>
		    <div class="form-group date_box">
		    	<span class="col-xs-2 text_2 border_bottom">生日</span>
		    	<span class="col-xs-4 right text_3 border_bottom member_name">{{member.birthday| defaultValueFilter : '请选择...' | date : 'yyyy-MM-dd'}}
		    		<input type="text" mobiscroll mobiscroll-type="date"  class="date_input" data="member.birthday"/>
		    	</span>
		    	<span class="col-xs-2 text_2 border_bottom">身高</span>
		    	<span class="col-xs-4 right text_3 border_bottom member_name">{{member.height?(member.height+' cm'):'请选择...'}}<input type="text" mobiscroll mobiscroll-type="height" class="date_input" data="member.height"/></span>
		    </div>
		    <div class="form-group date_box">
		    	<span class="col-xs-2 text_2 border_bottom">体重</span>
		    	<span class="col-xs-4 right text_3 border_bottom member_name">
		    		{{member.weight?(member.weight+' kg'):'请选择...'}}
		    		<input type="text" mobiscroll mobiscroll-type="weight" class="date_input" data="member.weight"/></span>
		    	<span class="col-xs-2 text_2 border_bottom">腰围</span>
		    	<span class="col-xs-4 right text_3 border_bottom member_name">{{member.waist?(member.waist+' cm'):'请选择...'}}<input type="text" mobiscroll mobiscroll-type="waist" class="date_input" data="member.waist"/></span>
		    </div>
			<div class="form-group date_box">
				<span class="col-xs-4 text_2 border_bottom">高血压病史</span>
		    	
		    	<span class="col-xs-8 right text_3 border_bottom member_name">
		    		{{member.highBpHistoryYear?(member.highBpHistoryYear+' 年'):'请选择...'}}
		    		<input type="text" mobiscroll mobiscroll-type="history" class="date_input" data="member.highBpHistoryYear" ng-model="member.highBpHistoryYear"/>
		    	</span>
			</div>
			<div ng-if="member.highBpHistoryYear !=0" class="form-group text-center"><br/>没有乐心血压计产品，填写最近30天内的平均血压<br/></div>
			<div ng-if="member.highBpHistoryYear !=0" class="form-group date_box">
				<span class="col-xs-4 text_2 border_bottom">高压(收缩压)</span>
		    	<span class="col-xs-8 right text_3 border_bottom member_name">
		    		{{member.systolicPressure?(member.systolicPressure+' mmHg'):'请选择...'}}
		    		<input type="text" mobiscroll mobiscroll-type="pressure" class="date_input" data="member.systolicPressure"/>
		    	</span>
			</div>
			<div ng-if="member.highBpHistoryYear !=0" class="form-group date_box">
				<span class="col-xs-4 text_2 border_bottom">低压(舒张压)</span>
		    	<span class="col-xs-8 right text_3 border_bottom member_name">
		    		{{member.diastolicPressure?(member.diastolicPressure+' mmHg'):'请选择...'}}
		    		<input type="text" mobiscroll mobiscroll-type="pressure" class="date_input" data="member.diastolicPressure"/>
		    	</span>
		    </div>
			<div ng-if="member.highBpHistoryYear !=0" id="mao" class="form-group text-center"><br/>想了解爸爸的高血压风险评估?<br/></div>
			<br/>
			<br/>
			<div class="form-group text-center">
				<!-- <a ng-if="member.highBpHistoryYear ==0" class="btn btn-success" style="width: 80%;height: 36px; line-height: 24px;color: #ffffff;" ng-click="updateMember()">保存</a> -->
				<a ng-if="member.highBpHistoryYear !=0" class="btn btn-success"  style="width: 80%;height: 36px; line-height: 24px;color: #ffffff;" ng-click="nextStep()">进入风险评估</a>
			</div>
		</div>
		
			
		
	</div>
	<!-- 个人信息 end -->


	<!-- 导航 start -->
	<div ng-if="step == '1' || step == '2' || step == '3' || step == '4'" class="stepwizard">
	    <div class="stepwizard-row setup-panel">
	        <div class="stepwizard-step">
	            <a href="javascript:void(0);" type="button" class="btn {{step >= '1'?'btn-00CEFB':'btn-BBBBBB'}} btn-circle" {{step == '1'?'':'disabled="disabled"'}}>1</a>
	        </div>
	        <div class="stepwizard-step"><i class="fa fa-arrow-right fa-1x {{step >= '1'?'arror-00CEFB':'arror-BBBBBB'}}"></i></div>
	        <div class="stepwizard-step">
	            <a href="javascript:void(0);" type="button" class="btn {{step >= '2'?'btn-00CEFB':'btn-BBBBBB'}} btn-circle" {{step == '2'?'':'disabled="disabled"'}}>2</a>
	        </div>
	        <div class="stepwizard-step"><i class="fa fa-arrow-right fa-1x {{step >= '2'?'arror-00CEFB':'arror-BBBBBB'}}"></i></div>
	        <div class="stepwizard-step">
	            <a href="javascript:void(0);" type="button" class="btn {{step >= '3'?'btn-00CEFB':'btn-BBBBBB'}} btn-circle" {{step == '3'?'':'disabled="disabled"'}}>3</a>
	        </div>
	        <div class="stepwizard-step"><i class="fa fa-arrow-right fa-1x {{step >= '3'?'arror-00CEFB':'arror-BBBBBB'}}"></i></div>
	        <div class="stepwizard-step">
	            <a href="javascript:void(0);" type="button" class="btn {{step >= '4'?'btn-00CEFB':'btn-BBBBBB'}} btn-circle" {{step == '4'?'':'disabled="disabled"'}}>4</a>
	        </div>
	        <div class="stepwizard-step"><i class="fa fa-arrow-right fa-1x {{step >= '4'?'arror-00CEFB':'arror-BBBBBB'}}"></i></div>
	        <div class="stepwizard-step">
	            <a href="javascript:void(0);" type="button" class="btn {{step == '5'?'btn-00CEFB':'btn-BBBBBB'}} btn-circle" {{step == '5'?'':'disabled="disabled"'}}><i class="fa fa-check fa-1x"></i></a>
	        </div>
	    </div>
	</div>
	<!-- 导航 end -->
	
	
	<!-- 心血管病的危险因素begin -->
	<div ng-if="step == '1'" scroller-box class="container-fluid setup-content full_screen" id="risk_cardi">
		<div class="row setup-content-header">
			<h4 class="text-center h4-949494">心血管病的危险因素</h4>
			<h6 class="h6-C0C0C0">（此风险评估是根据2010《中国高血压防治指南》如有以下情况，请选择。如不明白如何填写，可联系客服）</h6>
		</div>
		<div class="row setup-content-body">
			<!-- 危险因素begin -->
	   	 	<ul class="level1" ng-repeat="rk in cardiovascular">
				<li class="select_line">
					<input ng-if="rk.children.length==0" id="{{rk.riskKey}}" type="checkbox" ng-model="rk.checked">
					<label class="span_9399E2" ng-click="check_parent(rk)">{{rk.val}}{{rk.remark}}</label>
					<ul class="level2" ng-repeat="r in rk.children">
						<li class="select_line">
							<input id="{{r.riskKey}}" type="checkbox" ng-model="r.checked">
							<label class="span_A3A3A3" ng-click="check_children(rk,r)">{{r.val}}{{r.remark}}</label>
						</li>
					</ul>
				</li>
	   	 	</ul>
			<!-- 危险因素end -->
		</div>
		<br/><br/><br/><br/>
	</div>
	<!-- 心血管病的危险因素end -->  
	
	
	<!-- 靶器官的损害（TOD）begin -->
	<div ng-if="step == '2'" scroller-box class="container-fluid setup-content full_screen">
		<div class="row setup-content-header">
			<h4 class="text-center h4-949494">靶器官的损害（TOD）</h4>	 
			<h6 class="h6-C0C0C0">（这里指的是高血压对心脏、动脉血管、肾脏的损害）</h6>  
		</div>
		<div scroller-box class="row setup-content-body">
			<!-- 危险因素begin -->
	   	 	<ul class="level1" ng-repeat="rk in tod">
				<li class="select_line">
					<input ng-if="rk.children.length==0" id="{{rk.riskKey}}" type="checkbox" ng-model="rk.checked">
					<label class="span_9399E2" ng-click="check_parent(rk)">{{rk.val}}{{rk.remark}}</label>
					<ul class="level2" ng-repeat="r in rk.children">
						<li class="select_line">
							<input id="{{r.riskKey}}" type="checkbox" ng-model="r.checked">
							<label class="span_A3A3A3" ng-click="check_children(rk,r)">{{r.val}}{{r.remark}}</label>
						</li>
					</ul>
				</li>
	   	 	</ul>
			<!-- 危险因素end -->	
		</div>
		<br/><br/><br/><br/>
	</div>
	<!-- 靶器官的损害（TOD）end -->
	
	
	<!-- 并存的临床情况（ACC） begin -->
	 <div ng-if="step == 3" scroller-box class="container-fluid setup-content full_screen" id="risk_tod">  
		<div class="row setup-content-header">
			<h4 class="text-center h4-949494">并存的临床情况（ACC）</h4>
		</div>
		<div scroller-box class="row setup-content-body">
			<!-- 危险因素begin -->
			<ul class="level1" ng-repeat="rk in acc">
				<li class="select_line">
					<input ng-if="rk.children.length==0" id="{{rk.riskKey}}" type="checkbox" ng-model="rk.checked">
					<label class="span_9399E2" ng-click="check_parent(rk)">{{rk.val}}{{rk.remark}}</label>
					<ul class="level2" ng-repeat="r in rk.children">
						<li class="select_line">
							<input id="{{r.riskKey}}" type="checkbox" ng-model="r.checked">
							<label class="span_A3A3A3" ng-click="check_children(rk,r)">{{r.val}}{{r.remark}}</label>
						</li>
					</ul>
				</li>
			</ul>
			<!-- 危险因素end -->
		</div>
		<br/><br/><br/><br/>
	</div> 
	<!-- 并存的临床情况（ACC） end -->
	

	<!-- 糖尿病  begin -->
	<div ng-if="step == 4" scroller-box class="container-fluid setup-content full_screen" id="risk_sugarDis">  
		<div class="row setup-content-header">
			<h4 class="text-center h4-949494">糖尿病</h4>
		</div>
		<div scroller-box class="row setup-content-body">
			<!-- 危险因素begin -->
	  	 	<ul ng-repeat="rk in sugarDis">
				<li class="select_line">
					<input  id="{{rk.riskKey}}" type="checkbox" ng-model="rk.checked">
					<label class="span_9399E2" ng-click="check_parent(rk)">{{rk.val}}{{rk.remark}}</label>
				</li>
	  	 	</ul>
			<!-- 危险因素end -->	
		</div>
		<br/><br/><br/><br/>
	</div> 
	<!-- 糖尿病  end -->
	
	
	<!-- 报告container begin -->
	<div ng-if="step == 5" scroller-box class="container-fluid setup-content full_screen" id="report">
		<div class="row setup-content-header" style="padding-left:15px;padding-right: 15px;">
			<h4 class="h4-E3A658">高血压风险评估报告</h4>
			<h6 class="h6-C0C0C1">日期 {{report.created|defaultValueFilter : '怎么没日期?' | date : 'yyyy年MM月dd日'}}</h6>
		</div>
		<div scroller-box class="row setup-content-body form-horizontal">
			<!-- 报告begin -->
			<div class="form-group">
				<div class="col-xs-3 col-sm-3 col-md-3"><img wx-img wx-img-src="member.headimgurl" class="img img-circle" style="width: 60px;height: 60px;"/></div>
				<div class="col-xs-9 col-sm-9 col-md-9" style="padding-top: 20px;">{{member.name}}</div>
			</div>
			<fieldset>
				<legend>基本信息</legend>
				<div class="form-group">
					<label class="col-sm-3 col-xs-3 col-md-3">性别:</label>
					<div class="col-sm-3 col-xs-3 col-md-3">{{member.sex==2?'女':'男'}}</div>
					<label class="col-sm-3 col-xs-3 col-md-3">年龄:</label>
					<div class="col-sm-3 col-xs-3 col-md-3">{{member.age}} 岁</div>
				</div>
				<div class="form-group">
					<label class="col-xs-3 col-sm-3 col-md-3">身高:</label>
					<div class="col-xs-3 col-sm-3 col-md-3">{{member.height}} cm</div>
					<label class="col-xs-3 col-sm-3 col-md-3">体重:</label>
					<div class="col-xs-3 col-sm-3 col-md-3">{{member.weight}} kg</div>
				</div>
				<div class="form-group">
					<label class="col-xs-3 col-sm-3 col-md-3">腰围:</label>
					<div class="col-xs-3 col-sm-3 col-md-3">{{member.waist}} cm</div>
					<label class="col-xs-3 col-sm-3 col-md-3">BMI:</label>
					<div class="col-xs-3 col-sm-3 col-md-3">{{member.BMI}}</div>
				</div>
			</fieldset>
			
			<fieldset>
				<legend>心脑血管风险评估</legend>
				<div class="form-group">
					<label class="col-xs-3 col-sm-3 col-md-3">血压:</label>
					<div class="col-xs-9 col-sm-9 col-md-9">
						<span>{{report.bpAvg}}</span>
						<!-- <span ng-if="!report.bpAvg">{{member.systolicPressure}}/{{member.diastolicPressure}}</span> -->
						mmHg
					</div>
				</div>
				<div class="form-group">
					<label class="col-xs-3 col-sm-3 col-md-3">心血管的危险因素:</label>
					<div class="col-xs-9 col-sm-9 col-md-9">
						<!-- 危险因素begin -->
						{{report.riskElement}}
						<!-- 危险因素end -->
					</div>
				</div>
				<div class="form-group">
					<label class="col-xs-3 col-sm-3 col-md-3">并存的临床情况（ACC）:</label>
					<div class="col-xs-9 col-sm-9 col-md-9">
						<!-- 危险因素begin -->
				   	 	{{report.acc}}
						<!-- 危险因素end -->
					</div>
				</div>
				<div class="form-group">
					<label class="col-xs-3 col-sm-3 col-md-3">糖尿病:</label>
					<div class="col-xs-9 col-sm-9 col-md-9">
						<!-- 危险因素begin -->
				   	 	{{report.sugarDiabetes}}
						<!-- 危险因素end -->
					</div>
				</div>
				<div class="form-group">
					<label class="col-xs-3 col-sm-3 col-md-3">靶器官的损害（TOD）:</label>
					<div class="col-xs-9 col-sm-9 col-md-9">
						<!-- 危险因素begin -->
				   	 	{{report.tod}}
						<!-- 危险因素end -->
					</div>
				</div>
				
				<div class="form-group">
					<label class="col-xs-3 col-sm-3 col-md-3">危险分级:</label>
					<div class="col-xs-9 col-sm-9 col-md-9">{{report.bpLevel}}({{report.riskLevel}}组)</div>
				</div>
			</fieldset>
			<fieldset>
				<legend>心脑血管危险统计:</legend>
				<p>{{report.diseaseProbability}}</p>
			</fieldset>
			<fieldset>
				<legend>降压目标值:</legend>
				<p>{{report.treatmentGoal}}</p>
			</fieldset>
			<fieldset>
				<legend>治疗建议:</legend>
				<p>{{report.treatmentPlan}}</p>
			</fieldset>
			
			<!-- <li class="line">
				<div class="line_left">基本信息：</div>
				<div>{{report.bpLevel}}({{report.riskLevel}}组)</div>
				危险分级
			</li>
			<li class="line">
				<div class="line_left">心脑血管风险评估：</div>
				<div>{{report.bpLevel}}({{report.riskLevel}}组)</div>
				危险分级
			</li> -->

			<!-- <li class="line">
				<div class="line_left">危险因素：</div>
				<div>
					<div ng-repeat="choose in report.riskChoosed">
						{{$index+1}}.&nbsp;&nbsp;{{choose}}</div>
				</div>
			</li> -->
				
			<!-- 报告end -->
		</div>
		<br/><br/><br/><br/>
	</div>  
	<!-- 报告container end -->
	<footer ng-if="step == '1' || step == '2' || step == '3' || step == '4' || step == '5'"  class="setup-content-footer">
		<a ng-if="step == '1' || step == '2' || step == '3' || step == '4'" class="col-xs-6 text-left" ng-click="previousStep()"><i class="fa fa-angle-left fa-1x"></i>&nbsp;&nbsp;上一步</a>
		<a ng-if="step == '1' || step == '2' || step == '3'" class="col-xs-6 text-right" ng-click="nextStep()">下一步&nbsp;&nbsp;<i class="fa fa-angle-right fa-1x"></i></a>
		<a ng-if="step == '4'" class="col-xs-6 text-right" ng-click="riskReportCreate()">完成&nbsp;&nbsp;<i class="fa fa-angle-right fa-1x"></i></a>
		<a ng-if="step == '5'" class="col-xs-6 text-left" ng-click=""></a>
		<a ng-if="step == '5'" class="col-xs-6 text-right" ng-click="goHealthRecordBpRiskList()">关闭&nbsp;&nbsp;<i class="fa fa-angle-right fa-1x"></i></a>
	</footer>
</div>